{% load static i18n %}
{% load util_tags %}

<div class="mb-2 mr-2 btn-group dropdown" style="position: relative;">
    <button class="btn btn-outline-primary">Actions</button>
    <button type="button" aria-haspopup="true" aria-expanded="false" data-toggle="dropdown" class="dropdown-toggle-split dropdown-toggle btn btn-outline-primary"><span class="sr-only">Toggle Dropdown</span>
    </button>
    <div tabindex="-1" role="menu" aria-hidden="true" class="dropdown-menu" x-placement="bottom-start">

       {% if column.attrs.programme|is_allowed_edit %}
        <a type="button" href="{{ column.attrs.url_edit }}{{ record.id }}" tabindex="0" class="dropdown-item">
          <button class="mb-2 mr-2 btn-icon btn-icon-only btn-pill btn btn-outline-info"><i class="ion-android-create btn-icon-wrapper"> </i></button>
          {% trans "Edit" %}</a>
      {% else %}
        <a type="button" href="" tabindex="0" class="dropdown-item">
          <button class="mb-2 mr-2 btn-icon btn-icon-only btn-pill btn btn-outline-info"><i class="ion-android-create btn-icon-wrapper"> </i></button>
          {% trans "Edit" %}</a>
      {% endif %}

      {% if record.owner.id == request.user.id and record.total_absent_days < 40 %}
        <a type="button" href="{{ column.attrs.url_delete }}{{ record.id }}" tabindex="0" class="dropdown-item delete-student"  data-registration-id="{{ record.id }}">
          <button id="delete-button-{{ record.id }}" class="mb-2 mr-2 btn-icon btn-icon-only btn-pill btn btn-outline-info"><i class="ion-android-delete btn-icon-wrapper"> </i></button>
          {% trans "Delete" %}</a>
      {% else %}
        <a type="button" href="" tabindex="0" class="dropdown-item delete-student"  data-registration-id="{{ record.id }}">
          <button class="mb-2 mr-2 btn-icon btn-icon-only btn-pill btn btn-outline-info"><i class="ion-android-delete btn-icon-wrapper"> </i></button>
          {% trans "Delete" %}</a>
      {% endif %}

<div tabindex="-1" class="dropdown-divider"></div>

        <a type="button" href="{{ column.attrs.url_post_assessment }}{{ record.id }}?v=2" tabindex="0" class="dropdown-item">
          <button class="mb-2 mr-2 btn-icon btn-icon-only btn-pill btn btn-outline-info"><i class="ion-android-create btn-icon-wrapper"> </i></button>
          {% trans "Post-Assessment" %}</a>

      {% if record.partner.is_Kayany %}
        <a type="button" href="{{ column.attrs.url_mid_assessment1 }}{{ record.id }}/1" tabindex="0" class="dropdown-item">
          <button class="mb-2 mr-2 btn-icon btn-icon-only btn-pill btn btn-outline-info"><i class="ion-android-create btn-icon-wrapper"> </i></button>
          {% trans "Exam2" %}</a>
      {% else %}

        <a type="button" href="{{ column.attrs.url_mid_assessment1 }}{{ record.id }}/1" tabindex="0" class="dropdown-item">
          <button class="mb-2 mr-2 btn-icon btn-icon-only btn-pill btn btn-outline-info"><i class="ion-android-create btn-icon-wrapper"> </i></button>
          {% trans "Mid-Assessment 1" %}</a>

        <a type="button" href="{{ column.attrs.url_mid_assessment2 }}{{ record.id }}/2" tabindex="0" class="dropdown-item">
          <button class="mb-2 mr-2 btn-icon btn-icon-only btn-pill btn btn-outline-info"><i class="ion-android-create btn-icon-wrapper"> </i></button>
          {% trans "Mid-Assessment 2" %}</a>

      {% endif %}

        <a type="button" href="{{ column.attrs.url_followup }}{{ record.id }}" tabindex="0" class="dropdown-item">
          <button class="mb-2 mr-2 btn-icon btn-icon-only btn-pill btn btn-outline-info"><i class="ion-android-create btn-icon-wrapper"> </i></button>
          {% trans "Follow-up" %}</a>

        <a type="button" href="{{ column.attrs.url_service }}{{ record.id }}" tabindex="0" class="dropdown-item">
          <button class="mb-2 mr-2 btn-icon btn-icon-only btn-pill btn btn-outline-info"><i class="ion-android-create btn-icon-wrapper"> </i></button>
          {% trans "Services" %}</a>

    </div>
</div>
